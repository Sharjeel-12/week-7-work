import{c as b}from"./chunk-M72ULPAD.js";import{k as v,m as w,n as a,o as C,p as F,q as y,r as m,s as U,u as _,v as E,w as I}from"./chunk-MCLKDG7U.js";import{Da as d,Ja as r,Ka as o,La as l,M as g,Na as c,Pa as n,R as f,Sa as S,V as h,qa as p,ra as u}from"./chunk-U35MBERR.js";var N=(()=>{class t{constructor(i){this.http=i,this.base_url="http://localhost:49428/api/Auth/register"}registerUser(i){return this.http.post(this.base_url,i,{headers:{Authorization:"Bearer "+sessionStorage.getItem("access_token")}})}static{this.\u0275fac=function(e){return new(e||t)(f(v))}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var D=(()=>{class t{constructor(i,e){this.signUp=i,this.router=e}ngOnInit(){this.signupForm=new y({email:new m("",[a.required,a.email]),password:new m(null,[a.required,a.minLength(3)]),role:new m("Admin",[a.required])})}registerUser(){let i={email:this.signupForm.value.email,password:this.signupForm.value.password,role:this.signupForm.value.role};this.signUp.registerUser(i).subscribe({next:e=>{e?.role&&alert(`You have successfuly signed up as ${e.role}`)},error:()=>{alert("Sign up failed")}})}navigateToLogin(){this.router.navigate(["/login"])}static{this.\u0275fac=function(e){return new(e||t)(u(N),u(b))}}static{this.\u0275cmp=h({type:t,selectors:[["app-sign-up"]],standalone:!0,features:[S],decls:17,vars:2,consts:[[1,"signup-container"],[3,"ngSubmit","formGroup"],["for","userRole"],["type","text","id","userRole","placeholder","Enter role (Admin or Receptionist)","formControlName","role"],["for","email"],["type","email","id","email","placeholder","Enter email","formControlName","email"],["for","password"],["type","password","id","password","placeholder","Enter password","formControlName","password"],["type","submit",3,"disabled"],[3,"click"]],template:function(e,s){e&1&&(r(0,"div",0)(1,"h2"),n(2,"Sign Up"),o(),r(3,"form",1),c("ngSubmit",function(){return s.registerUser()}),r(4,"label",2),n(5,"Role"),o(),l(6,"input",3),r(7,"label",4),n(8,"Email"),o(),l(9,"input",5),r(10,"label",6),n(11,"Password"),o(),l(12,"input",7),r(13,"button",8),n(14,"Sign Up"),o()(),r(15,"a",9),c("click",function(){return s.navigateToLogin()}),n(16,"Log In"),o()()),e&2&&(p(3),d("formGroup",s.signupForm),p(10),d("disabled",!s.signupForm.valid))},dependencies:[I,U,w,C,F,_,E],encapsulation:2})}}return t})();export{D as SignUpComponent};
